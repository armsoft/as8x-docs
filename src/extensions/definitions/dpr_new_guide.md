---
layout: page
title: "Նոր Տվյալների մշակման հարցում (DPR) ավելացնելու ձեռնարկ"
sublinks:
- { title: "DPR նկարագրություն", ref: dpr-նկարագրություն }
- { title: "C# ֆայլի նկարագրություն", ref: c-ֆայլի-նկարագրություն }
---

## Բովանդակություն

- [Ներածություն](#ներածություն)
- [DPR նկարագրություն](#dpr-նկարագրություն)
- [Հատկություններ](#հատկություններ)
  - [NAME](#name)
  - [CAPTION](#caption)
  - [ECAPTION](#ecaption)
  - [TYPE](#type)
  - [VERSION](#version)
  - [CSSOURCE](#cssource)
- [C# ֆայլի նկարագրություն](#c-ֆայլի-նկարագրություն)

## Ներածություն

Հնարավորություն է տրվում ընդլայնել 8X-ի սերվիսը, ստեղծելով կազմակերպության սեփական [Տվյալների մշակման հարցում](../../server_api/definitions/dpr.md):  

Տվյալների մշակման հարցման նկարագրման համար հարկավոր է ունենալ՝
* .as ընդլայնմամբ ֆայլ `DPR` նկարագրությամբ, որը պարունակում Է Տվյալների մշակման հարցման մետատվյլաները,
* .cs ընդլայնմամբ ֆայլ, որը պարունակում է սերվերում աշխատող տրամաբանությունը։

Ստեղծված .as և .cs ֆայլերը հարկավոր է ներմուծել տվյալների բազա `SysCon` գործիքով։

Ստորև նկարագրված են այն քայլերը, որոնք յուրահատուկ են կազմակերպության սեփական Տվյալների մշակման հարցման ստեղծելու համար։  
C# դասի ստեղծման հիմնական քայլերը տե՛ս [ձեռնարկում](../../server_api/definitions/dpr_guide.md)։

## DPR նկարագրություն

``` as4x
DPR {
  NAME = ...;
  CAPTION = ...;
  ECAPTION = ...;
  TYPE = ...;
  VERSION = ...;
  CSSOURCE = ...;
};
```

## Հատկություններ

### NAME
Տվյալների մշակման հարցման ներքին անունը։

### CAPTION 
Տվյալների մշակման հարցման հայերեն անվանումը ANSI կոդավորմամբ։

### ECAPTION
Տվյալների մշակման հարցման անգլերեն անվանումը։

### TYPE 
Տվյալների մշակման հարցման տեսակը։
Հարկավոր է լրացնել նույն արժեքը ինչ լրացված է C# դասի վրա դրված `DPR` ատրիբուտի մեջ` [տե՛ս](../../server_api/definitions/dpr.md#dataprocessingrequest-դաս)։ 

Արժեքներն են՝
- `21` - Հաշվետվությունների տվյալների մշակման հարցում (DPR Report)
- `22` - Օլապ տվյալների մշակման հարցում (DPR OLAP)
- `23` - Առաջադրանքների տվյալների մշակման հարցում (DPR Job)
- `29` - Այլ տվյալների մշակման հարցում (DPR Other)

### VERSION 

(Այս հատկությունը ենթակա է հեռացման առաջիկա տարբերակներից մեկում)

Տվյալների մշակման հարցման տարբերակը։
Ամբողջ թիվ 0-ից մեծ։

### CSSOURCE 
Ընդլայնող C# ֆայլի [հարաբերական ճանապարհը](https://phoenixnap.com/kb/absolute-path-vs-relative-path) .as ֆայլի նկատմամբ։

Օրինակներ՝  
* Եթե extend.as և extend.cs ֆայլերը գտնվում են նույն թղթապանակում, ապա կգրվի `CSSOURCE = "extend.cs";`։  
* Եթե extend.as գտվում է "C:\WorkingDir\Scripts\App\extend.as" հասցեում, իսկ extend.cs-ը՝ "C:\WorkingDir\SubFolder1\SubFolder2\extend.as" հասցեում, ապա `CSSOURCE = "..\..\SubFolder1\SubFolder2\extend.cs";`։  
* Կամ կլինի գրել ամբողջական ճանապարհը, ինչը խրախուսելի չէ `CSSOURCE = "C:\WoringDir\SubFolder1\SubFolder2\extend.cs";`

## C# ֆայլի նկարագրություն

.cs ֆայլում հարկավոր է նկարագրել սերվերում աշխատող տրամաբանությունը, տե՛ս Տվյալների մշակման հարցման [C# ֆայլի նկարագրություն](../../server_api/definitions/dpr_guide.md#c-ֆայլի-նկարագրություն)։

Հարկավոր է որպեսզի `class`-ը ունենա `SourceVersion` ատրիբուտ։

``` c#
[SourceVersion(1)]
[DPR(DPRType = DPRType.Other, ArmenianCaption = "Փաստաթղթերի հեռացում", EnglishCaption = "Deletion of documents")]
public class DeleteDocsByIsnDPR : DataProcessingRequest<DeleteDocsByIsnResponse, DeleteDocsByIsnRequest>
```

## Ներմուծում և օգտագործում

.as և .cs ֆայլերը պատրաստ լինելուն պես անհրաժեշտ է **SYSCON**-ով համապատասխան .as ֆայլը ներմուծել համակարգ, ինչի արդյունքում .cs ֆայլը նույնպես կներմուծվի։ 
